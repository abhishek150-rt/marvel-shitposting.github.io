<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Website</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" data-auto-replace-svg="nest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');
        .card-footer {
            padding: 0!important;
            background-color: none!important;
            border-top: none!important;
        }
        
        .row {
            display: flex;
            justify-content: center;
            font-family: 'Poppins', sans-serif;
            /* background-color: #7952b3; */
        }
        
        .card {
            height: 400px;
        }
        
        .card-img-top {
            height: 250px;
        }
        
        .card-title {
            font-weight: 800;
        }
    </style>
</head>


<body>

    <div class="container">
        <h1 class=" text-center "><u>News App</u></h1>
        <div class="container">
            <div class="row my-5 w3-animate-zoom">
                <div class="col d-flex justify-content-evenly">
                    <button class="btn btn-sm btn-secondary" onclick="getNews()">Breaking News</button>
                    <button class="btn btn-sm btn-danger" onclick="getSportsNews()">Sport News</button>
                    <button class="btn btn-sm btn-success" onclick="getEntertainmentNews()">Entertainment News</button>
                    <button class="btn btn-sm btn-warning" onclick="getHealthNews()">Health News</button>
                    <button class="btn btn-sm btn-primary" onclick="getTechnologyNews()">Technology News</button>
                    <button class="btn btn-sm btn-primary" onclick="getBusinessNews()">Business News</button>
                </div>
            </div>
        </div>
        <div class="row" id="row">


        </div>
    </div>



    <script>
        //Using AJax Method
        const getSportsNews = () => {
            var row = document.querySelectorAll(".row")[1];
            let xhttp = new XMLHttpRequest();


            xhttp.open("GET", "https://newsapi.org/v2/top-headlines?country=in&category=sports&apiKey=c0f68841be2847279dd60256cb0b84a4", true);
            xhttp.send();

            xhttp.onload = function() {
                const sportsNews = JSON.parse(this.responseText);
                const articles = sportsNews.articles;

                let sportsNewsHtml = "";
                for (const element of articles) {
                    let sportsNews = `<div class="col-lg-4 my-5 w3-animate-zoom">
                    <div class="card shadow-lg w3-round-large " >
                <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
                <div class="card-body">
                    <p class="card-title">Title: ${element["title"]}</p>
                  <div class="card-footer">
                    <a href="${element.url}" class="btn btn-danger">Read More</a>
                  </div>
                </div>
            </div>
            </div>
                `
                    sportsNewsHtml += sportsNews;
                }
                row.innerHTML = sportsNewsHtml
            };
        };
    </script>
    <script>
        //async-await method
        async function getEntertainmentNews() {
            var row = document.querySelectorAll(".row")[1];
            let url = "https://newsapi.org/v2/top-headlines?country=in&category=entertainment&apiKey=c0f68841be2847279dd60256cb0b84a4";
            const EntertainmentNews = await fetch(url);
            const EntertainmentNewsObj = await EntertainmentNews.json();
            const articles = EntertainmentNewsObj.articles;
            let newsHtml = "";
            for (const element of articles) {
                let news = `<div class="col-lg-4 my-5 w3-animate-zoom">
                    <div class="card shadow-lg w3-round-large " >
                <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
                <div class="card-body">
                    <p class="card-title">Title: ${element["title"]}</p>
                  <div class="card-footer">
                    <a href="${element.url}" class="btn btn-danger">Read More</a>
                  </div>
                </div>
            </div>
            </div>
                `
                newsHtml += news;
            }
            row.innerHTML = newsHtml

        };
    </script>
    <script>
        //promise method
        const getTechnologyNews = () => {
            var row = document.querySelectorAll(".row")[1];
            fetch("https://newsapi.org/v2/top-headlines?country=in&category=science&apiKey=c0f68841be2847279dd60256cb0b84a4")
                .then((response) => response.json())
                .then((data) => {
                    const TechnologyNews = data.articles;
                    let TechnologyNewsHtml = "";
                    for (const element of TechnologyNews) {
                        let news = `<div class="col-lg-4 my-5 w3-animate-zoom">
                <div class="card shadow-lg w3-round-large " >
            <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
            <div class="card-body">
                <p class="card-title">Title: ${element["title"]}</p>
              <div class="card-footer">
                <a href="${element.url}" class="btn btn-danger">Read More</a>
              </div>
            </div>
        </div>
        </div>
            `
                        TechnologyNewsHtml += news;
                    }
                    row.innerHTML = TechnologyNewsHtml
                })
        };
    </script>
    <script>
        async function getHealthNews() {
            var row = document.querySelectorAll(".row")[1];
            let url = "https://newsapi.org/v2/top-headlines?country=in&category=health&apiKey=c0f68841be2847279dd60256cb0b84a4";
            const healthNews = await fetch(url);
            const healthNewsObj = await healthNews.json();
            const articles = healthNewsObj.articles;
            let newsHtml = "";
            for (const element of articles) {
                let news = `<div class="col-lg-4 my-5 w3-animate-zoom">
                    <div class="card shadow-lg w3-round-large " >
                <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
                <div class="card-body">
                    <p class="card-title">Title: ${element["title"]}</p>
                  <div class="card-footer">
                    <a href="${element.url}" class="btn btn-danger">Read More</a>
                  </div>
                </div>
            </div>
            </div>
                `
                newsHtml += news;
            }
            row.innerHTML = newsHtml

        };
    </script>

    <script>
        async function getNews() {
            var row = document.querySelectorAll(".row")[1];
            let url = "https://newsapi.org/v2/top-headlines?country=in&category=general&apiKey=c0f68841be2847279dd60256cb0b84a4";
            const BreakingNews = await fetch(url);
            const BreakingNewsObj = await BreakingNews.json();
            const articles = BreakingNewsObj.articles;
            let newsHtml = "";
            for (const element of articles) {
                let news = `<div class="col-lg-4 my-5 w3-animate-zoom">
                    <div class="card shadow-lg w3-round-large " >
                <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
                <div class="card-body">
                    <p class="card-title">Title: ${element["title"]}</p>
                  <div class="card-footer">
                    <a href="${element.url}" class="btn btn-danger">Read More</a>
                  </div>
                </div>
            </div>
            </div>
                `
                newsHtml += news;
            }
            row.innerHTML = newsHtml

        };
    </script>
    <script>
        async function getBusinessNews() {
            var row = document.querySelectorAll(".row")[1];
            let url = "https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=c0f68841be2847279dd60256cb0b84a4";
            const BusinessNews = await fetch(url);
            const BusinessNewsObj = await BusinessNews.json();
            const articles = BusinessNewsObj.articles;
            let newsHtml = "";
            for (const element of articles) {
                let news = `<div class="col-lg-4 my-5 w3-animate-zoom">
                    <div class="card shadow-lg w3-round-large " >
                <img class="card-img-top " src="${element.urlToImage}" alt="Card image cap">
                <div class="card-body">
                    <p class="card-title">Title: ${element["title"]}</p>
                  <div class="card-footer">
                    <a href="${element.url}" class="btn btn-danger">Read More</a>
                  </div>
                </div>
            </div>
            </div>
                `
                newsHtml += news;
            }
            row.innerHTML = newsHtml

        };
    </script>
</body>

</html>